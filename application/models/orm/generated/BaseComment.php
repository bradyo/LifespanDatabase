<?php

/**
 * BaseComment
 * 
 * This class has been auto-generated by the Doctrine ORM Framework
 * 
 * @property integer $id
 * @property string $parentTable
 * @property integer $parentId
 * @property string $author
 * @property integer $createdAt
 * @property string $body
 * @property string $status
 * @property CommentLink $commentLinks
 * 
 * @package    ##PACKAGE##
 * @subpackage ##SUBPACKAGE##
 * @author     ##NAME## <##EMAIL##>
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
abstract class BaseComment extends Doctrine_Record
{
    public function setTableDefinition()
    {
        $this->setTableName('comment');
        $this->hasColumn('id', 'integer', 4, array(
             'primary' => true,
             'autoincrement' => true,
         ));
        $this->hasColumn('parent_table as parentTable', 'string', 64, array(
            'notnull' => true,
        ));
        $this->hasColumn('parent_id as parentId', 'integer', 4, array(
            'notnull' => true,
        ));
        $this->hasColumn('author as author', 'string', 64);
        $this->hasColumn('created_at as createdAt', 'timestamp', null, array(
            'format' => 'Y-m-d H:m:s',
        ));
        $this->hasColumn('body as body', 'clob', 65532);
        $this->hasColumn('status as status', 'string', 64, array(
            'notnull' => true
        ));

        $this->option('type', 'INNODB');
    }

    public function setUp()
    {
        parent::setUp();

        $this->hasMany('CommentLink as links', array(
            'local' => 'id',
            'foreign' => 'comment_id'
        ));
    }
}